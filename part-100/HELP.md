# Executable jar with dependencies

Теперь рассмотрим ситуацию когда  нам необходимо включить в нашу сборку еще и зависимости
Например мы хотим использовать функцию isLowerCase класса MylangApplication, который находится в 
библиотеке mylang.
В помнике подключим эту зависимость, а затем, как мы помним из предыдущего урока
Запустим сборку
'''mvn package'''
и Попробуем запустить его
'''
java -jar target\part-100-0.0.1-SNAPSHOT.jar
'''
и получим ошибку

Можно добавить в манифест описание и этого класса, но если у нас будет слишком много классов, то 
это будет очень не удобно и сложно
Есть два варианта решения данной проблемы:
1. Можно создать в дирректорри target папку lib и туда поместить все используемые библиотеки
Нам понадобится еще один плагин maven-dependency-plugin, который должен выполнить одну goal 
   copy-dependencies, которая пометсим в фазу phase>prepare-package, так же необходимо в 
   configuration указать выходную директорию outputDirectory: project.build.directory - обычно 
   это и есть target и в ней укажем дирректорию lib
    Далее нам надо поправить наш манифест, в помнике разрешим использовать addClasspath и укажем 
   classpathPrefix = lib
   Запустим сборку
   '''mvn clean package'''
  после чего в паке target мы увидим дирректории Lib а в ней нашу зависимость
   и Попробуем запустить его
   '''
   java -jar target\part-100-0.0.1-SNAPSHOT.jar
   '''
    Все работает!!!

2. Не всегда удобно таскать с  собй папку Lib, гораздо проще поместить все библиотеки в одну jar 
   ку, для этого нам понадобится maven-assembly-plugin, подключим и настроим его, так же нам 
   необходимо тут же добавить в секции манифеста путь до MainClass . Далее в configuration добавим
   descriptorRefs, это обычный конфиг файл, в котором описывается как распаковыывать наши 
   зависимости и помещать их в jar. Если мы хотим добавить свой конфиг, то надо тут же добваить 
   секцию
''''   
<descriptors>
   <descriptor>config.xml</descriptor>
</descriptors>
'''
Но мы так делать не будем, а просто используем стандартный jar-with-dependencies
   Запустим сборку
   '''mvn clean package'''
После чего увидим что у нас появился еще одни jar файл part-100-0.0.1-SNAPSHOT-jar-with-dependencies.jar
Чтобы убедиться что все работает удалим дирректорию Lib
   и Попробуем запустить его
   '''
   java -jar target\part-100-0.0.1-SNAPSHOT-jar-with-dependencies.jar
   '''
